---
layout: post
title: "Java中的线程与内存"
date: 2017-03-27 20:36:59.000000000 +08:00
type: post
published: true
status: publish
categories:
- Technology
tags:
- Java
- Thread
meta:
  _edit_last: '1'
---

###线程与进程

实现线程三种方式:内核线程,用户线程,内核线程与用户线程的混合使用.

* 内核线程与轻量级进程是1:1模型,一个进程一个内核线程.

优点:进程阻塞可以由系统进行调度.

缺点:消耗内核资源大,各种进程操作都需要系统调用,要在用户态和内核态来回切换.

* 用户线程与进程是1:N的关系,一个进程多个用户线程.

优点:用户线程是建立在用户空间的,系统感知不到,因此线程建立,同步,销毁和调度都不需要系统调用,速度快,开销小.

缺点:因为没有系统调用,所以线程的所有操作都需要由用户来模拟,而有些操作是十分复杂的,比如调度操作.

* 内核线程与用户线程的混合使用,与进程是M:N的关系,多个进程对应多个线程.

优点:既有开销小的特点,又可以省去很多系统级别的操作.